# Prometheus configuration for local development
# This file is used by the docker-compose Prometheus service

global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    environment: 'development'

# Scrape configuration
scrape_configs:
  # SLO Engine API metrics
  - job_name: 'slo-engine-api'
    static_configs:
      - targets: ['app:8000']
    metrics_path: '/api/v1/metrics'

  # Mock OTel Service Graph metrics for testing
  # In production, this would be your actual OTel Collector
  - job_name: 'otel-service-graph'
    static_configs:
      - targets: []  # Add OTel Collector endpoint when available
    metric_relabel_configs:
      - source_labels: [__name__]
        regex: 'traces_service_graph.*'
        action: keep
